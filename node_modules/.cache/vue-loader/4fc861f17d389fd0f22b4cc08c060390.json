{"remainingRequest":"/Users/Neil/Documents/phase-2/Todo-Fancy/Todo-pt2-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Neil/Documents/phase-2/Todo-Fancy/Todo-pt2-client/src/components/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Neil/Documents/phase-2/Todo-Fancy/Todo-pt2-client/src/components/Login.vue","mtime":1530687098346},{"path":"/Users/Neil/Documents/phase-2/Todo-Fancy/Todo-pt2-client/node_modules/cache-loader/dist/cjs.js","mtime":1530015341043},{"path":"/Users/Neil/Documents/phase-2/Todo-Fancy/Todo-pt2-client/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Register from '@/components/Register.vue'\nimport axios from 'axios'\nimport swal from 'sweetalert2'\n\nexport default {\n  components:{\n    Register,\n\n  },\n  data () {\n    return {\n      e1: true,\n      dialog3: false,\n      valid: false,\n      password: '',\n      email: '',\n      passwordRules: [\n        v => !!v || 'Password is required',\n        v => v.length > 4 || 'Password must be more than 4 characters'\n      ],\n      emailRules: [\n        v => !!v || 'E-mail is required',\n        v => /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v) || 'E-mail must be valid'\n      ],\n      googleSignInParams: {\n        client_id: '581622540445-bhb06p93j4u39a0n7a3tj2p04btplo0e.apps.googleusercontent.com'\n      },\n      fbSignInParams: {\n        scope: 'email,user_likes',\n        return_scopes: true\n      }\n    }\n  },\n  methods:{\n    signIn(){\n      let loginData={\n        email : this.email,\n        password : this.password\n      }\n      axios.post('https://todoserver.neil.guru/users/signin',loginData)\n      .then((value) => {\n        localStorage.setItem('token',value.data.token)\n        this.dialog3 = false\n        this.$emit('login',true)\n        swal(\n          'Login Success',\n          'Grats',\n          'success'\n        )\n        this.$router.push('/first')\n      })\n      .catch((err) => {\n        this.dialog3 = false\n        swal({\n         type: 'error',\n         title: 'Oops...',\n         text: 'Wrong Username or Password',\n        })\n      });\n    },\n    onSignInFBSuccess (response) {\n      console.log('masuk FB');\n       FB.api('/me','GET',{fields:[\"name\",'email']}, dude => {\n         const userData = {\n           name: dude.name,\n           email: dude.email\n         }\n         axios.post('https://todoserver.neil.guru/users/sosmed',userData)\n         .then((value) => {\n           localStorage.setItem('token',value.data.token)\n           this.dialog3 = false\n           this.$emit('login',true)\n           swal(\n             'Login Success',\n             'Grats',\n             'success'\n           )\n           this.$router.push('/first')\n         })\n         .catch((err) => {\n           console.log(err);\n         })\n       })\n     },\n     onSignInFBError (error) {\n       console.log('OH NOES', error)\n     },\n    onSignInGoogleSuccess (googleUser) {\n      // google login\n      const profile = googleUser.getBasicProfile()\n      const userData = {\n        name: profile.getName(),\n        email: profile.getEmail()\n      }\n      axios.post('https://todoserver.neil.guru/users/sosmed',userData)\n      .then((value) => {\n        localStorage.setItem('token',value.data.token)\n        this.dialog3 = false\n        this.$emit('login',true)\n        swal(\n          'Login Success',\n          'Grats',\n          'success'\n        )\n        this.$router.push('/first')\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n    },\n    onSignInGoogleError (error) {\n      console.log('OH NOES', error)\n    },\n    facebook(){\n\n    }\n  },\n  created(){\n    (function (d, s, id) {\n      var js\n      var fjs = d.getElementsByTagName(s)[0]\n      if (d.getElementById(id)) return\n      js = d.createElement(s)\n      js.id = id\n      // js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10&appId=119308148780939\"\n      js.src = '//connect.facebook.net/en_US/sdk.js'\n      fjs.parentNode.insertBefore(js, fjs)\n    }(document, 'script', 'facebook-jssdk'))\n    window.fbAsyncInit = function () {\n      window.FB.init({\n        appId: '1353983184743648',\n        cookie: true,\n        xfbml: true,\n        version: 'v3.0'\n      })\n    }\n  },\n  mounted(){\n\n  }\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <v-layout row justify-center>\n        <v-btn color=\"primary\" dark @click.stop=\"dialog3 = true\">Login</v-btn>\n        <v-dialog v-model=\"dialog3\" max-width=\"500px\">\n          <v-card>\n            <div class=\"container\">\n            <v-card-title>\n              <h1> Please Insert Your ID </h1>\n            </v-card-title>\n            <v-form v-model=\"valid\">\n              <v-text-field\n                v-model=\"email\"\n                :rules=\"emailRules\"\n                label=\"E-mail\"\n                required\n              ></v-text-field>\n              <v-text-field\n              v-model=\"password\"\n              :append-icon=\"e1 ? 'visibility_off':'visibility'\"\n              :append-icon-cb=\"() => (e1 = !e1)\"\n              :type=\"e1 ? 'password' : 'text'\"\n              :rules=\"passwordRules\"\n              label=\"Enter your password\"\n              hint=\"At least 5 characters\"\n              min=\"5\"\n              counter=\"20\"\n            ></v-text-field>\n            </v-form>\n              <Register/>\n              <h3> OR </h3>\n              <fb-signin-button\n                 :params=\"fbSignInParams\"\n                 @success=\"onSignInFBSuccess\"\n                 @error=\"onSignInFBError\">\n                 Sign in with Facebook\n               </fb-signin-button>\n              <g-signin-button\n                :params=\"googleSignInParams\"\n                @success=\"onSignInGoogleSuccess\"\n                @error=\"onSignInGoogleError\">\n                Sign in with Google\n              </g-signin-button>\n            <v-card-actions>\n              <v-btn color=\"primary\" flat @click=\"signIn()\">Sign In</v-btn>\n              <v-btn color=\"primary\" flat @click.stop=\"dialog3=false\">Close</v-btn>\n            </v-card-actions>\n            </div>\n          </v-card>\n      </v-dialog>\n    </v-layout>\n  </div>\n</template>\n\n<script>\nimport Register from '@/components/Register.vue'\nimport axios from 'axios'\nimport swal from 'sweetalert2'\n\nexport default {\n  components:{\n    Register,\n\n  },\n  data () {\n    return {\n      e1: true,\n      dialog3: false,\n      valid: false,\n      password: '',\n      email: '',\n      passwordRules: [\n        v => !!v || 'Password is required',\n        v => v.length > 4 || 'Password must be more than 4 characters'\n      ],\n      emailRules: [\n        v => !!v || 'E-mail is required',\n        v => /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v) || 'E-mail must be valid'\n      ],\n      googleSignInParams: {\n        client_id: '581622540445-bhb06p93j4u39a0n7a3tj2p04btplo0e.apps.googleusercontent.com'\n      },\n      fbSignInParams: {\n        scope: 'email,user_likes',\n        return_scopes: true\n      }\n    }\n  },\n  methods:{\n    signIn(){\n      let loginData={\n        email : this.email,\n        password : this.password\n      }\n      axios.post('https://todoserver.neil.guru/users/signin',loginData)\n      .then((value) => {\n        localStorage.setItem('token',value.data.token)\n        this.dialog3 = false\n        this.$emit('login',true)\n        swal(\n          'Login Success',\n          'Grats',\n          'success'\n        )\n        this.$router.push('/first')\n      })\n      .catch((err) => {\n        this.dialog3 = false\n        swal({\n         type: 'error',\n         title: 'Oops...',\n         text: 'Wrong Username or Password',\n        })\n      });\n    },\n    onSignInFBSuccess (response) {\n      console.log('masuk FB');\n       FB.api('/me','GET',{fields:[\"name\",'email']}, dude => {\n         const userData = {\n           name: dude.name,\n           email: dude.email\n         }\n         axios.post('https://todoserver.neil.guru/users/sosmed',userData)\n         .then((value) => {\n           localStorage.setItem('token',value.data.token)\n           this.dialog3 = false\n           this.$emit('login',true)\n           swal(\n             'Login Success',\n             'Grats',\n             'success'\n           )\n           this.$router.push('/first')\n         })\n         .catch((err) => {\n           console.log(err);\n         })\n       })\n     },\n     onSignInFBError (error) {\n       console.log('OH NOES', error)\n     },\n    onSignInGoogleSuccess (googleUser) {\n      // google login\n      const profile = googleUser.getBasicProfile()\n      const userData = {\n        name: profile.getName(),\n        email: profile.getEmail()\n      }\n      axios.post('https://todoserver.neil.guru/users/sosmed',userData)\n      .then((value) => {\n        localStorage.setItem('token',value.data.token)\n        this.dialog3 = false\n        this.$emit('login',true)\n        swal(\n          'Login Success',\n          'Grats',\n          'success'\n        )\n        this.$router.push('/first')\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n    },\n    onSignInGoogleError (error) {\n      console.log('OH NOES', error)\n    },\n    facebook(){\n\n    }\n  },\n  created(){\n    (function (d, s, id) {\n      var js\n      var fjs = d.getElementsByTagName(s)[0]\n      if (d.getElementById(id)) return\n      js = d.createElement(s)\n      js.id = id\n      // js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10&appId=119308148780939\"\n      js.src = '//connect.facebook.net/en_US/sdk.js'\n      fjs.parentNode.insertBefore(js, fjs)\n    }(document, 'script', 'facebook-jssdk'))\n    window.fbAsyncInit = function () {\n      window.FB.init({\n        appId: '1353983184743648',\n        cookie: true,\n        xfbml: true,\n        version: 'v3.0'\n      })\n    }\n  },\n  mounted(){\n\n  }\n}\n</script>\n\n<style lang=\"css\">\n.g-signin-button {\n  box-sizing: border-box;\n   position: relative;\n   /* width: 13em;  - apply for fixed size */\n   margin: 0.2em;\n   padding: 0 15px 0 46px;\n   border: none;\n   text-align: center;\n   line-height: 34px;\n   white-space: nowrap;\n   border-radius: 0.2em;\n   font-size: 16px;\n   color: #FFF;\n   background: #DD4B39;\n   border-right: #BB3F30 1px solid;\n   background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png') 6px 6px no-repeat;\n   background: #E74B37;\n}\n\n.fb-signin-button {\n  box-sizing: border-box;\n  position: relative;\n  /* width: 13em;  - apply for fixed size */\n  margin: 0.2em;\n  padding: 0 15px 0 46px;\n  border: none;\n  text-align: center;\n  line-height: 34px;\n  white-space: nowrap;\n  border-radius: 0.2em;\n  font-size: 16px;\n  color: #FFF;\n  background-color: #4C69BA;\n  background-image: linear-gradient(#4C69BA, #3B55A0);\n  /*font-family: \"Helvetica neue\", Helvetica Neue, Helvetica, Arial, sans-serif;*/\n  text-shadow: 0 -1px 0 #354C8C;\n  background-color: #5B7BD5;\n  background-image: linear-gradient(#5B7BD5, #4864B1);\n}\n</style>\n"]}]}